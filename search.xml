<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[Openshift 搭建 - 贴吧云签到]]></title>
      <url>%2F2017%2F04%2F30%2FOpenshift-%E6%90%AD%E5%BB%BA-%E8%B4%B4%E5%90%A7%E4%BA%91%E7%AD%BE%E5%88%B0%2F</url>
      <content type="text"><![CDATA[所需工具 WinSCP 官网下载 PuTTYGen 官网下载, softpedia Tieba-Cloud-Sign Github 步骤 注册 Openshift 账号 进入控制台选择Creat your first application 下拉列表选择 PHP 5.4 填写应用名字跟自定义域名，执行 create application创建 导航菜单进入 Application 页面，进入生成的应用 依次添加 MySQL5.5，phpmyadmin4.0，记住创建过程中绿框显示数据库管理信息 点击 Application 页面下方 Or, see the entire list of cartridges you can add，添加 Cron1.4 在 Cartridges 列表中， MySQL 5.5 显示Database: xx User: xx Password: show,点击 show 显示密码，并使用这个账户登录 phpmyadmin( phpMyAdmin 4.0 右方的箭头 ) 记住右上方 数据库服务器的详细信息 用puttygen 生成 公钥/私钥 对,保存私钥到文件中，复制框中的公钥，进入导航菜单进入 Settings 页面,在 Public Keys列表下点击 Add a new key...，将复制框中的公钥粘贴进去 回到 Application 页面，进入生成的应用，点击右方链接 Want to log in to your application?并复制框中的字串 在 winscp 中见字串粘贴到主机名中，删去下方的用户名前的ssh 点击高级-SSH-密钥交换，载入第10步保存的私钥文件 zip 下载整个代码，解压 然后进入 winscp，左边打开你解压的文件夹，右边依次打开 app-root/runtime/repo 勾选解压的内容物，上传 进入 Application 页面，点击右上角刷新图标重启应用 进入应用域名(https方式) 安装应用的过程中提示页面显示你是在应用引擎或者不可写的主机上使用本程序吗？时候选择不，我不是 填写数据库配置 设置 cron 计划任务：winscp 进入进入 app-root-runtime-repo-.openshift-cron-minutely 在 winscp 中路径会显示为 / var/lib/openshift/*********/app-root/runtime/repo/.openshift/cron/minutely, 新建一个 xx.sh 文件 ，填入 php $OPENSHIFT_REPO_DIR/do.php 进应用域名(https方式)，按照引导进行设置]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[大宇资讯与 Epic Games 签定 UE4 游戏引擎使用授权]]></title>
      <url>%2F2017%2F04%2F30%2F%E5%A4%A7%E5%AE%87%E8%B5%84%E8%AE%AF%E4%B8%8E-Epic-Games-%E7%AD%BE%E5%AE%9A-UE4-%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E4%BD%BF%E7%94%A8%E6%8E%88%E6%9D%83%2F</url>
      <content type="text"><![CDATA[最近大宇又搞到了新玩具——虚幻4引擎，希望大宇在注重游戏画面表现的情况下能注意仙剑系列独有的情节，不要继续卖情怀。毕竟 28号发布的 仙剑奇侠传幻璃镜 iOS 手游口碑差的可以，下边是原文 昨日（4 月 24 日）大宇资讯股份有限公司与 Epic Games 正式宣布合作，为我司旗下新作游戏研发取得「Unreal Engine 4」(简称 UE4) 游戏引擎的开发授权。 同时，我们也宣布通过本次合作，未来在大宇双剑《轩辕剑》与《仙剑奇侠传》的新作开发，都将导入「Unreal Engine 4」游戏引擎进行研发制作，让游戏画质更加提高，创造高质量的游戏视觉体验。 「Unreal Engine 4」为一款由 Epic Games 所开发的游戏引擎，其使用该引擎所开发之游戏呈现出的画面精细，开发工具便捷，运行效率高，更有利于开发高质量作品，也因此 UE4 备受多家指标性游戏公司采用，为顶尖游戏开发引擎之一。 与 UE4 的合作让我们对仙剑系列续作的开发充满信心，相信未来通过高质量的游戏画面，能为玩家呈现更全方位的优质游戏体验，更让玩家可以更好地融入双剑世界的故事当中。 “仙剑之父” 姚壮宪作为大宇代表出席，会上他表示：“UE4 是一款先进的游戏引擎，在业界享有美誉。创造出的游戏，具备精美的画面与流畅稳定的体验。而这次我们与 Epic Games 签定这次 UE4 合作授权，相信大宇研发团队可以藉由 UE4 的优点，让双剑下一代单机产品不仅在游戏画面上更加动人，带来精美流畅的画面表现，还可为我们实现更具游戏性的想法保驾护航。” 来源http://www.softstar.net.cn/index.php?s=/Home/Article/detail/id/230.html]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[DNS折腾记]]></title>
      <url>%2F2017%2F04%2F30%2FDNS%E6%8A%98%E8%85%BE%E8%AE%B0%2F</url>
      <content type="text"><![CDATA[前言一直使用人家开源的hosts替换笔记本上的或者Android 手机上的文件, 但是又不免遇到几个问题1.每次都要执行两种替换，电脑和手机上的2.Android 手机 hosts 文件的换行符必须是 \ n 而不是 windows 的 \ r\n，电脑直接替换，但在对安卓hosts文件替换之前必须在电脑端对文件加工 123用 Notepad++ 打开 hosts 文件 点击菜单中的视图–显示符号–显示所有字符”将所有 "CR LF" 的换行符换成 "LF " 3.未 root 的 Android 手机和未越狱的 IOS 设备无法修改 hosts 文件这就很卧槽了，难道我改个 DNS 记录还要去承担 root 和越狱的未知风险么，于是情节开始有了发展 进入主线寻思着从身边的东西下手解决需求，路由器———就是你了嘿嘿路由器的型号是极路由二，既然主打智能就应该能用来完成 DNS 解析，再瞅瞅插件，发现彩蛋一枚安装下来看看详情页面，这程序猿还是挺懂人心的，预置了不少域名. 看看使用说明，发现个最大问题———支持条目太少，为什么会这样呢，再去瞅瞅路由器参数 这参数我给8分，满点100. 不管了先搞搞先. 首先确认好流程，极路底层系统从 LINUX 开发，那么我必须先处理好换行符，然后把全部记录一次性复制进去——插件提示超过限制，一定是哪里搞错了，首先试着把空白行删除再复制——还是超出限制我服，我把注释删掉好了 1匹配 # 字符删除所在行 复制进去，等插件下载进度慢慢跑完，boom，改一下手机的 DNS 到路由器地址，可以用，真是皆大欢喜再偷懒一点，用 winscp 进入路由器etc 目录找到 hosts 文件，直接将仅执行换行的记录文本复制进去，重启下路由器，测试一下，貌似工作正常，再进去查看下文件，简直了——直接少了一半的记录，我还是选择插件大法吧——停，好像这跟我的出发点不太一样，为什么我想要偷懒反而变得复杂了总之先问问度娘可行的替代方法~先逛逛极路由官方论坛，简直了，hosts 修改全是吐槽难用的，然后下边给出的解决方法是换个360路由——我 Dr.com 认证就是用修改版极路由做的，不干——主要是懒癌事到如今我只能祭出杀手锏了——腾讯云上边的主机，要不我自建个 DNS 服务器吧 主线二号服务器上跑的是CentOs系统，这下有搞头，找找可选方案，java环境?玩不开，滚蛋. python环境？还是玩不开，滚犊子. 捕捉到一个特别的——DNSmasq，原生方案，高度可定制，就是你了. 下边全程使用winscp跟putty软件.找到dnsmasq-conf文件，参照网上各种不负责任复制粘贴的博客内容，翻译一下文件指引中文参照指引，开始搞事先写好基础的配置 123456no-resolv //不使用/etc/resolv.conf指定上游 DNS 服务器，直接下方给出server=119.29.29.29server=114.114.114.114 //上游服务器选用了腾讯和114server=/.edu.cn/222.200.115.251 //针对校园网内访问使用校内 DNS server=/google.com/139.x.x.x //避免谷歌用自己的dns重定向，强制转向自己的服务器地址addn-hosts=/etc/dnsmasq.host //挂载hosts文件 dnsmasq-conf文件中还可加入特别的解析地址和广告屏蔽，比如我就为了日服fgo 加入了如下配置 123address=/data.fate-go.jp/54.230.249.7address=/view.fate-go.jp/54.192.75.120address=/ocsp.digicert.com/117.18.237.29 当然上边的地址不知道什么时候会失效. 获得主机名的方法是用shadowscks记录 DNS 记录，这里不展开写然后怎么可能少了 hosts 文件呢，替换好行尾符后复制到/etc/dnsmasq.host文件中.打开putty 连接终端输入sudo service dnsmasq restart重启服务，再输入netstat -tunlp|grep 53测试53端口，正常的话应该跟下边差不多 123[root@VM_27_70_centos ~]# netstat -tunlp|grep 53tcp 0 0 0.0.0.0:53 0.0.0.0:* LIST EN 4226/dnsmasqudp 0 0 0.0.0.0:53 0.0.0.0:* 4226/dnsmasq 然后修改本地 DNS 地址,本机 cmd 指令 ipconfig /flushdns, 打开谷歌应用商店，正常显示内容，真是太愉快了咳咳，都说人的欲望是满足不了的，到这里我又有了一个奇特的脑洞，想办法让没越狱的 IOS 设备用上这个 DNS 但是难度貌似挺大，毕竟网上都没有正确的解决方法，也许我该找找特定的工具——绕道？照着这个思路，剧情逐步走向了升华 剧情升华翻山越岭仍未找到合适的方式，在课上的百无聊赖的我为了肝 fgo 地打开了 shadowsocks，连接上了国外的代理，然后一个激灵果断上网查找 SS 客户端的工作原理，详细过程不做描述，网上各种复制粘贴，请让我这个表情表达对这些博客主的敬意，之后仅在 wiki 站点找到了数量极少的说明，然后打开了客户端自带的配置文件default.db.conf默认的内容如下(仅截图了代表性的部分) 123456789101112131415161718192021222324252627282930313233343536# Shadowrocket: 2017-04-30 02:03:21[General]bypass-system = trueskip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local,e.crashlynatics.combypass-tun = 0.0.0.0/8,1.0.0.0/9,1.160.0.0/11,1.192.0.0/11,10.0.0.0/8,14.0.0.0/11,14.96.0.0/11,14.128.0.0/11,14.192.0.0/11,27.0.0.0/10,27.96.0.0/11,27.128.0.0/9,36.0.0.0/10,36.96.0.0/11,36.128.0.0/9,39.0.0.0/11,39.64.0.0/10,39.128.0.0/10,42.0.0.0/8,43.224.0.0/11,45.64.0.0/10,47.64.0.0/10,49.0.0.0/9,49.128.0.0/11,49.192.0.0/10,54.192.0.0/11,54.191.0.0/16,58.0.0.0/9,58.128.0.0/11,58.192.0.0/10,59.32.0.0/11,59.64.0.0/10,59.128.0.0/9,60.0.0.0/10,60.160.0.0/11,60.192.0.0/10,61.0.0.0/10,61.64.0.0/11,61.128.0.0/10,61.224.0.0/11,100.64.0.0/10,101.0.0.0/9,101.128.0.0/11,101.192.0.0/10,103.0.0.0/10,103.192.0.0/10,106.0.0.0/9,106.224.0.0/11,110.0.0.0/7,112.0.0.0/9,112.128.0.0/11,112.192.0.0/10,113.0.0.0/9,113.128.0.0/11,113.192.0.0/10,114.0.0.0/9,114.128.0.0/11,114.192.0.0/10,115.0.0.0/8,116.0.0.0/8,117.0.0.0/9,117.128.0.0/10,118.0.0.0/11,118.64.0.0/10,118.128.0.0/9,119.0.0.0/9,119.128.0.0/10,119.224.0.0/11,120.0.0.0/10,120.64.0.0/11,120.128.0.0/11,120.192.0.0/10,120.198.201.0/24,121.0.0.0/9,121.192.0.0/10,122.0.0.0/7,124.0.0.0/8,125.0.0.0/9,125.160.0.0/11,125.192.0.0/10,127.0.0.0/8,139.0.0.0/11,139.128.0.0/9,140.64.0.0/11,140.128.0.0/11,140.192.0.0/10,144.0.0.0/10,144.96.0.0/11,144.224.0.0/11,150.0.0.0/11,150.96.0.0/11,150.128.0.0/11,150.192.0.0/10,152.96.0.0/11,153.0.0.0/10,153.96.0.0/11,157.0.0.0/10,157.96.0.0/11,157.128.0.0/11,157.224.0.0/11,159.224.0.0/11,161.192.0.0/11,162.96.0.0/11,163.0.0.0/10,163.96.0.0/11,163.128.0.0/10,163.192.0.0/11,166.96.0.0/11,167.128.0.0/10,167.192.0.0/11,168.160.0.0/11,169.254.0.0/16,171.0.0.0/9,171.192.0.0/11,172.16.0.0/12,175.0.0.0/9,175.128.0.0/10,180.64.0.0/10,180.128.0.0/9,182.0.0.0/8,183.0.0.0/10,183.64.0.0/11,183.128.0.0/9,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.96.0.0/11,192.160.0.0/11,198.18.0.0/15,198.51.100.0/24,202.0.0.0/9,202.128.0.0/10,202.192.0.0/11,203.0.0.0/9,203.128.0.0/10,203.192.0.0/11,210.0.0.0/10,210.64.0.0/11,210.160.0.0/11,210.192.0.0/11,211.64.0.0/10,211.128.0.0/10,218.0.0.0/9,218.160.0.0/11,218.192.0.0/10,219.64.0.0/11,219.128.0.0/11,219.192.0.0/10,220.96.0.0/11,220.128.0.0/9,221.0.0.0/11,221.96.0.0/11,221.128.0.0/9,222.0.0.0/8,223.0.0.0/11,223.64.0.0/10,223.128.0.0/9dns-server = 114.114.114.114,119.29.29.29,8.8.8.8 [Rule]DOMAIN-KEYWORD,google,PROXY,force-remote-dnsDOMAIN-KEYWORD,facebook,PROXY,force-remote-dnsDOMAIN-KEYWORD,gmail,PROXY,force-remote-dnsDOMAIN-SUFFIX,twimg.com,PROXY,force-remote-dnsDOMAIN-SUFFIX,admob.com,REJECTDOMAIN-SUFFIX,adview.cn,REJECTDOMAIN-SUFFIX,adwhirl.com,REJECTDOMAIN-SUFFIX,adwo.com,REJECTDOMAIN-SUFFIX,cnzz.com,DIRECTDOMAIN-SUFFIX,mzstatic.com,PROXYDOMAIN-SUFFIX,appspot.com,PROXYDOMAIN-SUFFIX,ykimg.com,DIRECTDOMAIN-SUFFIX,medium.com,PROXYDOMAIN-SUFFIX,clashroyaleapp.com,DIRECTDOMAIN-SUFFIX,bilibili.com,DIRECTDOMAIN-SUFFIX,bilibili.cn,DIRECTDOMAIN-SUFFIX,acgvideo.com,DIRECTDOMAIN-SUFFIX,outlook.com,DIRECTIP-CIDR,91.108.56.0/22,PROXYIP-CIDR,91.108.4.0/22,PROXYIP-CIDR,109.239.140.0/24,PROXYIP-CIDR,149.154.160.0/20,PROXYIP-CIDR,192.168.0.0/16,DIRECTIP-CIDR,10.0.0.0/8,DIRECTIP-CIDR,172.16.0.0/12,DIRECTIP-CIDR,127.0.0.0/8,DIRECTGEOIP,CN,DIRECTFINAL,PROXY 上边有几处需要特别注意的 dns-server = 114.114.114.114,119.29.29.29,8.8.8.8 //指定dns服务器？ GEOIP,CN,DIRECT //中国域名使用直连方式？ FINAL,PROXY //其他不在表中的使用代理？ 带着疑问我执行了以下步骤， 打开 shaowsocks 的流量统计日志,使用预设配置，打开国内百度首页，载入网页后回到软件统计页面，页面数据是代理流量0 K，直连流量 15K，关闭 ss 连接，这里十分重要 打开 ss 连接，打开谷歌相册app，载入一个图片后回到软件统计页面，页面数据是代理流量50K，直连流量 0 K，关闭 ss 连接，这里十分重要 初步判断第二点是正确的 打开 ss 连接，打开上边未包括在标志 DIRECT行中 的站点，载入网页后回到软件统计页面，页面数据是代理流量25 K，直连流量 0K，这里十分重要 继续判断第三点是正确的 下载并将列表中 PROXY替换成 DIRECT,删去force-remote-dns语句，并设置为ss 的使用配置文件 打开 ss 连接，打开上边未包括在标志 DIRECT行中 的站点，载入网页后回到软件统计页面，页面数据是代理流量0 K，直连流量 25K，这里十分重要 更加坚信第三点的正确，同时也产生了一个疑惑——dns-server = 行是否依赖于 ss 服务器的连接状态(生效与否) 于是我连接上了一个客户端中显示超时的 ss 服务器，手机显示 VPN 其实与服务器连接失败，我设想应该是软件 api 模拟出来的连接状态，并被手机接收 接着打开上边未包括在标志 DIRECT行中 的站点，载入网页后回到软件统计页面，页面数据是代理流量0 K，直连流量 25K 细心人可能就会发现我找到了突破口，没错就是dns-server =行，于是 我在这里填上了自己的 DNS 服务器地址，接上失效的 SS 服务器，打开了谷歌站点，回到软件统计页面，页面数据是代理流量0 K，直连流量 26 k我特么终于解决温饱需求了，至此为 未root Android 手机和 未越狱 IOS 设备 提供自定义 DNS 的需求得到了完美解决，你问我翻墙是不是想做一些羞羞的见不得人的事情，我只能送你这个表情了 后记关于 shaowsocks 的账号，可以在主机上搭建，参见我另一篇文章” Shadowsocks服务器端的搭建 “,对了你也许需要一个主机，这里是给学生党的经济选择 “腾讯云云+校园计划” “阿里云云翼计划”起初一个很平常微小的需求被我放大到了进行 DNS 服务搭建才能满足的地步，不过在这过程中我学到了不少的东西，当然这些知识可能不太见得了光，但无论如何，有收获就是好的最后来个告别：祝大家撸得愉快]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[GitHub 上开源的各类书籍]]></title>
      <url>%2F2017%2F04%2F29%2FGitHub-%E4%B8%8A%E5%BC%80%E6%BA%90%E7%9A%84%E5%90%84%E7%B1%BB%E4%B9%A6%E7%B1%8D%2F</url>
      <content type="text"><![CDATA[挂载地址 GitHub 漫游指南 笔试面试知识整理 计算机相关技术资料整理]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[DNSmasq-conf(中文版)]]></title>
      <url>%2F2017%2F04%2F28%2FDNSmasq-conf(%E4%B8%AD%E6%96%87%E7%89%88)%2F</url>
      <content type="text"><![CDATA[前言这里是关于DNSmasq的定义 在代码格式中我使用了诸如“// 1”的注释表示，1表示取消当前注释则开启说明所表示的功能，0则相反 在这篇文章中你会见到一些专业术语，这里尽可能地将它们列出来，并尽可能地在文末提供了注释 中文 英文 缩写 按需拨号 dial-on-demand 选项 option DDR 域 domain 主机 host 规格 specs 非路由 non-routed 空间 space 服务定位资源记录 SRV 会话初始协议 Session Initiation Protocol SIP 域名服务器 nameserver 域名 domain name 会话 talk 用户身份证明 User Identification UID 组身份证明 group Identification GID 接口 Interface 监听 listen 租借 lease 中继代理 relay agent 电子掩码 netmask 网络 ID network-id 参数 parameter 客户机标识符 client identifier 操作系统 Operating System OS 启动 boot 标志 flag 供应商类 vendorclass 用户类 userclass 字串 substring 模式 pattern 映射 mappings 预设路径 default route 网络时间协议 Network Time Protocol NTP 存活时间 time-to-live ttl 子网 subnet 静态 static 特性 specific 封装 encapsulate 前缀 prefix 超时 timeout 装载 Load 多路广播 multicast 广播 broadcast 简单文件传输协议 Trivial File Transfer Protocol TFTP 电子签名 Verisign 邮件交换 Mail Exchanger MX 指针记录 Pointer Record PTR 别名 alias DNS基础转发规则格式是一个选项一行，合法的多个选项跟在命令行中的多个合格的选项一样。见“/usr/sbin/dnsmasq –help” 或者“man 8 dnsmasq” 里的更多细节。下面的两个选项让你更好地使用网络，因为它们告诉 dnsmasq 过滤那些公共 DNS 不能处理的不需要装在服务器( 特别是根服务器中 )的请求。如果你有个按需拨号（dial-on-demand）的连接，这些服务器会阻止这些不需要的连接的建立( bring up )。 从不转发那些不存在的名( 没有点或者域部分 )1#domain-needed //1 从不为存在于那些非路由（non-routed ）地址的空间转发地址1#bogus-priv //1 过滤无用的来源为Windows的DNS请求取消这个注释以过滤无用的来源为Windows的DNS请求，这些请求会引起不必要的按需拨号的连接。注意 ( 在其他地方 )，这阻止所有 服务定位资源记录 (SRV )，所以除非你使用诸如Kerberos, SIP, XMMP 或者 Google-talk ，不要使用它。这个选项只影响转发,为 dnsmasq 生成的SRV 记录 ( 通过 srv-host= lines ) 不受其限制 1#filterwin2k //1 上游服务器相关从上游服务器中获取 dns改变这一行如果你想要从上游服务器中获取dns，上游的设置文件在/etc/resolv.conf 1#resolv-file= //填入上游文件名 强制上游 DNS 寻找顺序默认情况下，dnsmasq 会发送请求给任意一个知道回复的上游服务器并设置最优服务器。取消这里的注释以强制dnsmasq 按设置文件/etc/resolv.conf中顺序对上游服务器发出尝试请求 1#strict-order //1 不读取conf 或其他文件如果你不希望dnsmasq 读取/etc/resolv.conf或其他文件而是在这个文件中获得上游域名服务器(如下)，取消这一条注释 不查找conf，resolv文件如果你不需要dnsmasq 查找/etc/resolv.conf或其他resolv文件和重读，注释掉这里 1#no-poll //1 其他域名服务器在这里添加其他域名服务器，如果是私有域名，添加域名规格 123#server=/localnet/192.168.0.1 “localnet ”是域名规格or#server=114.114.114.114 返回 请求转发类型路由器选择一个路由器选择PTR请求到域名服务器( nameserver )：这会发送所有对192.168.3/24的请求address-&gt;name 到域名服务器10.1.2.3 1#server=/3.168.192.in-addr.arpa/10.1.2.3 仅本地域名添加仅本地( local-only )域名,对这些域名的请求将仅由 /etc/hosts 或者 DHCP 回应 1#local=/localnet/ 强制跳转 添加强制到特定IP的域名。下边的例子发送任何在 doubleclick-net到本地服务器 1#address=/doubleclick.net/127.0.0.1 address或者server与IPv6也是支持的 1#address=/www.thekelleys.org.uk/fe80::20d:60ff:fe36:f83 控制会话方式你可以控制dnsmasq 与一个服务器的会话方式： 这个强制对10.1.2.3的请求通过eth1：server=10.1.2.3@eth1 这个设置与10.1.2.3的会话的源(ie local )地址到192.168.1.1，端口（port）55(显然这个机器必须要有与这个IP绑定的接口)：server=10.1.2.3@192.168.1.1#55 改变UID和GID如果你想要dnsmasq改变uid和gid到其他值，而不使用预设值，编辑下边的行 123#user=#group= 接口监听 如果你想要dnsmasq仅在特定接口（和回路）监听 DHCP 和 DNS 请求，给接口命名（如：eth0）,重复行如果你有多个接口 1#interface= 或者你设置特定接口不监听 1#except-interface= 或者哪个通过特定地址（address）监听（包括127.0.0.1如果有使用的话） 1#listen-address= 一个接口上提供 DNS如果你只想在一个接口上提供 DNS 服务，如下设置它，然后使用如下行为它关闭DHCP 1#no-dhcp-interface= 接口接受通配符地址在支持的系统上,dnsmasq绑定通配符地址，即使在它只在一些接口上监听，然后它抛弃那些不应该回复的请求。即使在接口不断变化和改变地址的情况下，这仍然有好处.如果你确实要dnsmasq去绑定它正在监听的接口，注释掉这个选择.是在你在于一个机器上运行另一个域名服务器的情况下，你可能不止一次需要它 1#bind-interfaces hosts读取/etc/hosts文件如果你不想要dnsmasq去读取/etc/hosts, 注释掉这一行 1#no-hosts 添加其他hosts文件或者你需要其他文件，和/etc/hosts，用这个 1#addn-hosts=/etc/banner_add_hosts 域名自动添加设置这个（和域名：见下边），如果你想要一个域名自动被添加到hosts-file 的简单名中 1#expand-hosts dnsmasq 域名为dnsmasq设置一个域名，这是可选的，但一旦设置，它执行了如下行为 允许 DHCP 主机有一个完整合法的域名，只要域部分符合这个设定 设置“domain” DHCP 选项从而隐藏地所有系统上的域由 DHCP 设定 为 “expand-hosts”提供域部分 1#domain=thekelleys.org.uk 为不同的子网设置不同域名 1#domain=wireless.thekelleys.org.uk,192.168.2.0/24 更多选项，比子网更加扩展 1#domain=reserved.thekelleys.org.uk,192.68.3.100,192.168.3.200 DHCP启用完整的 DHCP注释掉这一行以启用完整的 DHCP 服务，你需要提供地址（addresses）范围（range）以供租借（租借时间是可选的）。如果你有多个网络，在每个应用DHCP 服务的网络重复这个 1#dhcp-range=192.168.0.50,192.168.0.150,12h DHCP 范围类型电子掩码这是一个拥有电子掩码DHCP 范围的例子。在我们通过一个中继代理（relay agent）到达dnsmasq DHCP 服务的情况下，电子掩码是必须的。如果你并不知道什么是DHCP 中继代理，你大概不需要注意这个 1#dhcp-range=192.168.0.50,192.168.0.150,255.255.255.0,12h 网络ID这是一个拥有网络ID（network-id）的DHCP范围的例子，所以一些DHCP选项可以被设置仅对这个网络生效 1#dhcp-range=red,192.168.0.50,192.168.0.150 对主机的处理使用DHCP 为特定主机应用参数。这里是一些有效的选择，所以我们为每个提供了例子.注意IP 地址不应该出现在上述的范围中，它们只需要在同一个网络。参数的顺序不做要求，name,adddress 和 MAC 的任意排序是允许的。 1.总是为主机分配以太网地址。 11:22:33:44:55:66 The IP address 192.168.0.60 12#dhcp-host=11:22:33:44:55:66,192.168.0.60 2.总是用硬件地址为主机设置名 11:22:33:44:55:66 to be “fred” 1#dhcp-host=11:22:33:44:55:66,fred 3.总是给主机以太网地址，名字“fred”，ip地址，租借时间45分 1#dhcp-host=11:22:33:44:55:66,fred,192.168.0.60,45m 4.给一个主机两个以太网地址（用”,”分隔)和IP地址.dnsmasq会假定这两个以太网接口没有被在同一时间使用，然后把IP地址分配给第二个，尽管这个IP地址已经被第一个接口使用。在使用无线和有线地址的笔记本上十分有用 1#dhcp-host=11:22:33:44:55:66,12:34:56:78:90:12,192.168.0.60 5.给一个声称它的名是“bert”的主机 IP 地址和无限（infinite）租借时间 1#dhcp-host=bert,192.168.0.70,infinite 6.总是给主机客户机标识符 标识符 01:02:02:04 IP 地址 192.168.0.60 1#dhcp-host=id:01:02:02:04,192.168.0.60 7.总是给主机客户标识符 标识符 marjorie IP地址 192.168.0.60 1#dhcp-host=id:marjorie,192.168.0.60 8.启用在/etc/hosts中赋予名“judge”的地址，当一个机器声称自己名是”judge“的主机请求 DHCP 租借时，将地址赋予它 1#dhcp-host=judge 9.永远不给以太网地址是11:22:33:44:55:66的机器提供DHCP服务 1#dhcp-host=11:22:33:44:55:66,ignore 10.忽略以太网地址为11：22：33：44:55的提供用户标识符的机器。在阻止那些运行不同OS或PXE boot和 PS BOOT之间切换的机器受到不同的处理时很有用 1#dhcp-host=11:22:33:44:55:66,id:* 11.发送标志为“red”的额外选项给以太网地址为11:22:33:44:55的机器 1#dhcp-host=11:22:33:44:55:66,net:red 12.发送标志为“red”的额外选项给以太网地址以11:22:33开始的机器 1#dhcp-host=11:22:33:::*,net:red 13.忽略任何在dhcp-host 行或 etc/ethers文件 中被指定的客户( clients ). 等同于ISC“ deny unkown-clients” .这依赖于主机匹配时建立的特殊“known”标志 14.发送标志为“red”的额外选择给DHCP 供应商类（ vendorclass）串( string )包含字串( substring )“Linux”的机器 1#dhcp-vendorclass=red,Linux 15.发送标志为“red”的额外选择给用户类( userclass )串 string )包含字串字串( substring )“accounts”的机器 1#dhcp-userclass=red,accounts 16.发送标志为“red”的额外选择给 MAC 地址匹配模式( pattern )的机器 1#dhcp-mac=red,00:60:8C:::* 对发现的物理地址/IP对执行动作如果取消这段注释，dsnamasq将会读取/etc/ethers文件并对发现的物理地址/IP对( ethernet-address/IP )做出执行动作，正像它们被赋予的“–dhcp-host options”。在你出于其他目的保留 物理地址/主机( MAC-address/host ) 映射( mappings )时十分有用 1#read-ethers 发送的选项发送一些选项给请求 DHCP 租借的主机，详见RFC 2132，dnsmasq按照以名的方法给出常用的选择：执行dnsmasq –help dhcp可以查看选择表。注意，dnsmasq提供完整的预设值( defaults )包括所有的常用设定，比如网络掩码，广播地址，DNS 服务器和预设路径（route）.你很大可能不用用到dhcp-options。如果你使用window 客户端，Samba，请参照这一部分尾部的推荐值 路径 推翻dnsmasq提供的预设路径（default route），这假定路由器与运行dnsmasq为同一个机器 1#dhcp-option=3,1.2.3.4 做同样的事情，单使用选择名（option name） 1#dhcp-option=option:router,1.2.3.4 推翻dnsmasq提供的预设路径（default route），但不发送任何的预设路径。注意这只适用于在由预设(1, 3, 6, 12, 28)提供选择，同一行 选择0长度( zero-length )选择以替换其他选择字段(numbers) 1#dhcp-option=3 网络时间协议 NTP 设置网络时间协议( NTP )时间服务器地址为 192.168.0.4和10.10.0.5 1#dhcp-option=option:ntp-server,192.168.0.4,10.10.0.5 设置网络时间协议( NTP )时间服务器到同一个机器，正如运行dnsmasq 1#dhcp-option=42,0.0.0.0 设置网络时间协议( NTP )到域名“welly” 1#dhcp-option=40,welly 存活时间 设置预设存活时间( time-to-live )50 1#dhcp-option=23,50 标志类 设置“all subnets are local”(所有子网为本地)标志 1#dhcp-option=27,1 标志+选项类 发送 etherboot magic 标志( flag )和etherboot 选项( 串 ) 123#dhcp-option=128,e4:45:74:68:00:00#dhcp-option=129,NIC=eepro100 指定一个仅被发送给“red”网络的选项( 见 dhcp-range for the declaration of the “red” network )。注意net:部分在 option:部分前 1#dhcp-option = net:red, option:ntp-server, 192.168.1.1 建立 dnsmasq下边的建立 dnsmasq 的DHCP 选项与http://www.samba.org/samba/ftp/docs/textdocs/DHCP-Server-Configuration.txt中关于适用于一台的运行 dnsmasq 和 samba 服务的主机安装典型 dnsmasq 的ISC dhcpcd一样。当你使用Windows客户端和Samba，你可能需要取消一部分或者全部的注释 1234567#dhcp-option=19,0 # option ip-forwarding off#dhcp-option=44,0.0.0.0 # set netbios-over-TCP/IP nameserver(s) aka WINS server(s)#dhcp-option=45,0.0.0.0 # netbios datagram distribution server#dhcp-option=46,8 # netbios node type 域名查找DNS 域名查找 DHCP发送 RFC-3397 DNS 域名查找 DHCP 选项。注意：你的 DHCP 客户端可能不支持这个 1#dhcp-option=option:domain-search,eng.apple.com,marketing.apple.com 静态路径发送 RFC-3442 无分级( classless )静态路径( 注意网络掩码的编码 )1#dhcp-option=121,192.168.1.0/24,1.2.3.4,10.0.0.0/8,5.6.7.8 提供商类特性选项 发送提供商类特性选项，这些特性封装在 DHCP option 43 。特性的含义由提供商类定义，所以这些选项只在客户端提供的提供商类匹配这里给出的类( 字串匹配是允许的，所以 “MSFT” 跟 “MSFT” 和 “MSFT 5.0” 匹配)。这个例子为 PXEClients 设置了 mtftp address 到0.0.0.0 1#dhcp-option=vendor:PXEClient,1,0.0.0.0 当它关闭时，发送 microsoft-specific 选项告诉 Windows 释放 DHCP 租借。注意“ i “标志，它告诉dnsmasq 发送 4-byte 整值，这正是 microsoft 想要的，见http://technet2.microsoft.com/WindowsServer/en/library/a70f1bb7-d2d4-49f0-96d6-4b7414ecfaae1033.mspx?mfr=true 1#dhcp-option=vendor:MSFT,2,1i 发送 Encapsulated-vendor-class ID，这个在 Etherboot 辨识 DHCP 伺服器时候被需求 1#dhcp-option=vendor:Etherboot,60,”Etherboot” PXELinux发送选项给 PXELinux注意我们需要发送它们，尽管它们不出现在参数请求表 ( parameter request list )中,所以我们需要 dhcp-option-force ,见http://syslinux.zytor.com/pxe.php#special .Magic number — 在完成任何辨识之前是需要的 1#dhcp-option-force=208,f1:00:74:7e 配置文件名1#dhcp-option-force=209,configs/common 路径前缀( prefix )1#dhcp-option-force=210,/tftpboot/pxelinux/files/ 重启时间( 注意“ i ”发送 32-bit 值 )1#dhcp-option-force=211,30i 为 netboot/PXE 设置 boot 文件名你仅在通过网络启动机器时候用到它，并且你需要一个 TFTP 伺服器，无论 dnsmasq 建立在 TFTP 或者其他外部位置.( 见下：如何启用 TFTP 伺服器) 1#dhcp-boot=pxelinux.0 Boot for Etherboot gPXE.想法是发送两个不同的文件名，第一个载入 gPXE , 第二个告诉 gPXE 需要读取的内容, dhcp-match 为来自 gPXE 的请求设置 gpxe 标志 12345#dhcp-match=gpxe,175 # gPXE sends a 175 option.#dhcp-boot=net:#gpxe,undionly.kpxe#dhcp-boot=mybootimage Encapsulated options for Etherboot gPXE.所有选项包装在 option 175 1234567891011#dhcp-option=encap:175, 1, 5b # priority code#dhcp-option=encap:175, 176, 1b # no-proxydhcp#dhcp-option=encap:175, 177, string # bus-id#dhcp-option=encap:175, 189, 1b # BIOS drive code#dhcp-option=encap:175, 190, user # iSCSI username#dhcp-option=encap:175, 191, pass # iSCSI password Test for the architecture of a netboot client. PXE clients 如 option 93 发送它们的结构1234567#dhcp-match=peecees, option:client-arch, 0 #x86-32#dhcp-match=itanics, option:client-arch, 2 #IA64#dhcp-match=hammers, option:client-arch, 6 #x86-64#dhcp-match=mactels, option:client-arch, 7 #EFI x86-64 执行执行真正的 PXE，不要仅启动单个文件, 这是 dhcp-boot 的一个选择 1#pxe-prompt=”What system shall I netboot?” 或者在第一个可执行动作前加入超时( timeout ) 1#pxe-prompt=”Press F8 for menu.”, 60 Available boot services. for PXE.1#pxe-service=x86PC, “Boot from local disk”, 0 装载 从 dnsmasq TFTP server 装载 /pxelinux. 1#pxe-service=x86PC, “Install Linux”, pxelinux 从 dnsmasq TFTP server (at 1.2.3.4)装载 /pxelinux.注意这在老式 PXE ROMS 无效 1#pxe-service=x86PC, “Install Linux”, pxelinux, 1.2.3.4 bootserver 在网络上使用 bootserver 发现我的多路广播( multicast )和广播( broadcast ) 1#pxe-service=x86PC, “Install windows from RIS server”, 1 在一个已知 IP 地址使用 bootserver 1#pxe-service=x86PC, “Install windows from RIS server”, 1, 1.2.3.4 TFTP如果你有一个可用的 multicast-FTP, 对它的信息可以以相似的方式上传送—使用 options 1 到 5，见 http://download.intel.com/design/archives/wfm/downloads/pxespec.pdf 第19页. 启用 dnsmasq’s built-in TFTP server1#enable-tftp //1 设置 FTP 文件 root directory1#tftp-root=/var/ftpd //1 使 TFTP 伺服器更加安全使用这个：只有 user dnsmasq 拥有的文件可以通过网络运行和发送到 1#tftp-secure //1 只有“red”标志被设定的时候设置 boot 文件名1#dhcp-boot=net:red,pxelinux.red-net 例子包含 dhcp-boot ，外部 TFTP 伺服器( 名和 IP 地址在文件名字段后给出 ). 可能在老旧的 PXE ROMS 上失效. 被–pxe-service 覆盖( Overridden ) 1#dhcp-boot=/var/ftpd/pxelinux.0,boothost,192.168.0.3 服务器租借租借限制设置 DHCP 租借限制, 预设是150 1#dhcp-lease-max=150 磁盘数据库占用DHCP 服务器需要一定的磁盘空间保存数据库. 默认全路径, 改变它使用如下一行 1#dhcp-leasefile=/var/lib/dnsmasq/dnsmasq.leases authoritative 模式设置DHCP 伺服器到 authoritative 模式.在这个模式它将会干涉和接管在网络上广播的客户端的租约, 无论这个客户端有没有租约记录. 当一个机器在一个新的网络上被唤醒时，这个模式避免了长时间的超时. 不要启用这个如果你几乎不会遇到当你为校园/公司设定 DHCP 服务器时发生意外中止的情况. ISC server 使用同样的 option, 见这个链接:http://www.isc.org/index.pl?/sw/dhcp/authoritative.php 1#dhcp-authoritative 创建或者销毁当一个DHCP 租借创建或者销毁时运行一个 executable . 这个发送到脚本( script )的声明是”add” 或者”del” .当只有一个时,之后加上 mac 地址，IP 地址，主机名 1#dhcp-script=/bin/echo 缓存设置缓存大小1#cache-size=150 关闭 negative caching取消这个注释 1#no-negcache 存活时间一般地, 来源于 /etc/hosts 和 DHCP lease file 有一个0的存活时间设定，习惯上约定不要进行进一步缓存( cache further ),如果你想要在服务器上低负载地为可能过期的数据进行交换, 设置一个存活时间( Time-To-Live ) 1#local-ttl= 如果你想要 dnsmasq 去检测依据电子签名( Verisign )的尝试从而发送未注册的 .com 和 .net 主机到它的网站发现服务然后让 dnsmasq 替代性地返回正确的 NXDOMAIN 回答( respond ), 取消这一行的注释. 你可以添加类似的(多)行为其他的注册( 使用通配符 A 记录 )执行同一效果1#bogus-nxdomain=64.94.110.11 修改DNS结果如果你想修改从上游 DNS 服务器传递过来的 DNS 结果，使用别名( alias ) 选项. 这只在 IPv4 上工作. 这个别名让结果为 1.2.3.4 显示为 5.6.7.8 1#alias=1.2.3.4,5.6.7.8 这个映射 1.2.3.x 到 5.6.7.x 1#alias=1.2.3.0,5.6.7.0,255.255.255.0 这个映射范围 192.168.0.10-&gt;192.168.0.40 到 10.0.0.10-&gt;10.0.0.40 1#alias=192.168.0.10-192.168.0.40,10.0.0.0,255.255.255.0 MX 记录改变这一行，如果你想要 dmsmasq 服务 MX 记录. 返回一个 MX 记录:名maildomain.com 目标( target )servermachine.com权重( preference )50. 1#mx-host=maildomain.com,servermachine.com,50 使用 localmx option 为创建的 MX 记录设置默认目标1#mx-target=servermachine.com 为所有本地机器返回一个指向 mx-target 的 MX 记录1#localmx //1 为所有本地机器返回一个指向它们自己的 MX 记录1#selfmx //1 SRV 记录改变下边的(多)行如果你想 dnsmasq 去服务 SRV 记录. 这在你想要服务请求活动目录的 idap 请求和其他 windows-originated DNS 请求时是十分有用的.见RFC 2782. 你可能会添加多条 srv-host 行, 域(field )是,,,,. 如果一个域没有名( 仅有服务和协议部分)，domain= —config option给出, 将被使用. 注意这个服务不需要 expand-hosts 的设定; 一个 SRV 记录发送 目的 example.com 域的 LDAP 到ldapserver.example.com 端口389 (port) 1#srv-host=_ldap._tcp.example.com,ldapserver.example.com,389 一个 SRV 记录发送 目的 example.com 域的 LDAP 到ldapserver.example.com 端口289 (port)(使用 domain= ) 12#domain=example.com#srv-host=_ldap._tcp,ldapserver.example.com,389 两个 LDAP 的 SRV 记录, 每个有不同的优先级 123srv-host=_ldap._tcp.example.com,ldapserver.example.com,389,1#srv-host=_ldap._tcp.example.com,ldapserver.example.com,389,2 一个 SRV 记录 表明没有域 example.com 的 LDAP 服务器 1#srv-host=_ldap._tcp.example.com PTR 记录下边的多行表示如何让 dnsmasq 服务一个任意的( arbitrary ) PTR 记录. 这对 DNS-SD 十分有用. 注意: 为 SRV 记录执行的 domain-name 扩展( expasion ) 不发生在 PTR 记录 1#ptr-record=_http._tcp.dns-sd-services,”New Employee Page._http._tcp.dns-sd-services” TXT 记录修改下边的多行以使 dnsmasq 服务 TXT 记录. 这在诸如 SPF 和 zeroconf 时使用. 注意： 为 SRV 记录执行的 domain-name 扩展( expasion ) 不发生在 TXT 记录 1234567#Example SPF.#txt-record=example.com,”v=spf1 a -all”#Example zeroconf#txt-record=_http._tcp.example.com,name=value,paper=A4 别名 alias为一个 “local” DNS 名提供别名( alias ). 注意：这只为那些名来源于DHCP 和 /etc/hosts 的目标工作. 给主机 “ bert ” 其他的名,bertrand 1#cname=bertand,bert 日志 log想要 debugging, 通过 dnsmasq 为每个 DNS 查询保存日志( log )1#log-queries //1 为 DHCP 交换的额外信息保存日志1#log-dhcp //1 包括其他多项的设置选项( configuration options)123#conf-file=/etc/dnsmasq.more.conf#conf-dir=/etc/dnsmasq.d 其他注释 ( ) DNSmasq定义DNSmasq 是一个小巧且方便地用于配置 DNS 和 DHCP 的工具 简介它提供了 DNS 功能和可选择的 DHCP 功能。它服务那些只在本地适用的域名，这些域名是不会在全球的 DNS 服务器中出现的。DHCP 服务器和 DNS 服务器结合，并且允许 DHCP 分配的地址能在 DNS 中正常解析，而这些 DHCP 分配的地址和相关命令可以配置到每台主机中，也可以配置到一台核心设备中（比如路由器），DNSmasq 支持静态和动态两种 DHCP 配置方式。 返回 SRV记录:定义 ：DNS 服务器的数据库中支持的一种资源记录的类型，它记录了哪台计算机提供了哪个服务这么一个简单的信息。一般是为 Microsoft 的活动目录设置时的应用。 简介：DNS 可以独立于活动目录，但是活动目录必须有 DNS 的帮助才能工作。为了活动目录能够正常的工作，DNS 服务器必须支持服务定位（SRV）资源记录，资源记录把服务名字映射为提供服务的服务器名字。活动目录客户和域控制器使用 SRV 资源记录决定域控制器的 IP 地址。 SRV 记录功能包括（基于它们在 DNS 控制台的分组） 1.‘ _MSDCS。这个分组中，SRV 记录是根据它们的状态来收集的。各种状态包括 DC、域调用、GC 以及 PDC。DC 和 GC 按站点来划分，这样一来，AD 客户端就能快速的知道去哪里寻找本地服务。“域调用” 用于支持复制。每个 DC 都获得了一个 GUID，它会在调用复制时用到。PDC 条目包含了被设定为 PDC 模拟器的 DC 的 SRV 记录。 2.‘ _SITES。站点代表的是一个高速连接区域，根据 DC 的站点从属关系来建立了 DC 索引之后，客户端就可以检查_SITES 来寻找本地服务，而不必通过 WAN 来发送它们的 LDAP 查询请求。标准 LDAP 查询端口是 389，全局编录查询则使用 3268。 3.‘ _TCP。在这个分组中，收集了 DNS 区域中的所有 DC。如果客户端找不到它们特定的站点，或者具有本地 SRV 记录的任何 DC 都没有响应，需要寻找网络中其他地方的 DC，就应该将这些客户端放到这个分组中。 4.‘ _UDP。Keberos v5 允许客户端使用 “无连接” 服务来获取票证并更改密码。这是通过与相同服务的 TCP 端口对应的 UDP 端口来完成的。具体说，票证交换使用 UDP 的 88 端口，而密码更改使用 464。返回 Kerberos：简介一种网络认证协议，其设计目标是通过密钥系统为客户机 / 服务器应用程序提供强大的认证服务。该认证过程的实现不依赖于主机操作系统的认证，无需基于主机地址的信任，不要求网络上所有主机的物理安全，并假定网络上传送的数据包可以被任意地读取、修改和插入数据。在以上情况下， Kerberos 作为一种可信任的第三方认证服务，是通过传统的密码技术（如：共享密钥）执行认证服务的。 认证过程具体如下：客户机向认证服务器（AS）发送请求，要求得到某服务器的证书，然后 AS 的响应包含这些用客户端密钥加密的证书。证书的构成为： 1) 服务器 “ticket” ； 2) 一个临时加密密钥（又称为会话密钥 “session key”） 。客户机将 ticket （包括用服务器密钥加密的客户机身份和一份会话密钥的拷贝）传送到服务器上。会话密钥可以（现已经由客户机和服务器共享）用来认证客户机或认证服务器，也可用来为通信双方以后的通讯提供加密服务，或通过交换独立子会话密钥为通信双方提供进一步的通信加密服务。 上述认证交换过程需要只读方式访问 Kerberos 数据库。但有时，数据库中的记录必须进行修改，如添加新的规则或改变规则密钥时。修改过程通过客户机和第三方 Kerberos 服务器（Kerberos 管理器 KADM）间的协议完成。有关管理协议在此不作介绍。另外也有一种协议用于维护多份 Kerberos 数据库的拷贝，这可以认为是执行过程中的细节问题，并且会不断改变以适应各种不同数据库技术。 Kerberos 又指麻省理工学院为这个协议开发的一套计算机网络安全系统。系统设计上采用客户端 / 服务器结构与 DES 加密技术，并且能够进行相互认证，即客户端和服务器端均可对对方进行身份认证。可以用于防止窃听、防止 replay 攻击、保护数据完整性等场合，是一种应用对称密钥体制进行密钥管理的系统。Kerberos 的扩展产品也使用公开密钥加密方法进行认证。返回 SIPSIP （会话发起协议）SIP(Session Initiation Protocol) 是一个应用层的信令控制协议。用于创建、修改和释放一个或多个参与者的会话。这些会话可以是 Internet 多媒体会议 、IP 电话或多媒体分发。会话的参与者可以通过组播（multicast）、网状单播（unicast）或两者的混合体进行通信。 SIP 与负责语音质量的资源预留协议 (RSVP) 互操作。它还与若干个其他协议进行协作，包括负责定位的轻型目录访问协议 (LDAP)、负责身份验证的远程身份验证拨入用户服务 (RADIUS) 以及负责实时传输的 RTP 等多个协议。 压缩机制SIP 压缩机制主要是通过改变 SIP 消息的长度来降低时延。典型的 SIP 消息的大小由几百到几千字节，为了适合在窄带无线信道上传输，IMS 对 SIP 进行了扩展，支持 SIP 消息的压缩。当无线信道一定时， 一条 SIP 消息所含帧数 k 仅取决于消息大小。从时延模型可以看出，不仅影响 SIP 消息传输时延， 还影响 SIP 重传的概率， 对自适应的定时器来说，k 还成了影响定时器初值的关键因素。 应用google 发布世界上首个开源的 Html5 sip 客户端HTML5 SIP 客户端是一款开源的，完全利用 JavaScript 编写的集社交 (FaceBook，Twitter，Google+)，在线游戏，电子商务等应用于一体。无扩展，无插件或是必备的网关，视频堆栈技术依赖于 WebRTC。如同主页里的 Demo 视频演示，你可以轻松实现 Chrome 和 IOS/Android 移动设备之间的实时视频 / 音频通话。该客户端是一项在浏览器中可被用来连接任意 SIP 或者 IMS 网络进行拨打和接收音频 / 视频通话及即时信息技术。该协议解析器 (SIP，SDP…) 通过使用 Ragel 查找表进行了高度优化，很适合硬件（内存和运算能力）受限的嵌入式系统使用。 返回 XMPP( 可扩展通讯和表示协议 )简介:可扩展通讯和表示协议 (XMPP) 可用于服务类实时通讯、表示和需求响应服务中的 XML 数据元流式传输。XMPP 以 Jabber 协议为基础，而 Jabber 是即时通讯中常用的开放式协议。XMPP is the IETF’s formalization of the base XML streaming protocols for instant messaging and presence developed within the Jabber open-source community in 1999XMPP（可扩展消息处理现场协议）是基于可扩展标记语言（XML）的协议，它用于即时消息（IM）以及在线现场探测。它在促进服务器之间的准即时操作。这个协议可能最终允许因特网用户向因特网上的其他任何人发送即时消息，即使其操作系统和浏览器不同。XMPP 的前身是 Jabber，一个开源形式组织产生的网络即时通信协议。XMPP 目前被 IETF 国际标准组织完成了标准化工作。标准化的核心结果分为两部分； 核心的 XML 流传输协议 基于 XMLFreeEIM 流传输的即时通讯扩展应用 XMPP 的核心 XML 流传输协议的定义使得 XMPP 能够在一个比以往网络通信协议更规范的平台上。借助于 XML 易于解析和阅读的特性，使得 XMPP 的协议能够非常漂亮。XMPP 的即时通讯扩展应用部分是根据 IETF 在这之前对即时通讯的一个抽象定义的，与其他业已得到广泛使用的即时通讯协议，诸如 AIM，QQ 等有功能完整，完善等先进性。XMPP 的扩展协议 Jingle 使得其支持语音和视频。XMPP 的官方文档是 RFC 3920.返回 Google-talk简介Google Talk 是 Google 的 IM 工具，除了具有 IM 功能外，另外还加上了 Voip 功能，界面清新大方，可直接链接 Gmail，接受查看邮件。 功能Google Talk 的一个优势是，它能够与其它即时通讯软件服务进行连接。由于 Google Talk 是基于 Jabber 开源标准，这种标准允许用户和其它的即时讯息系统相连，比如苹果电脑的 iChat，GAIM，Trillian Pro 以及 Psi。Google Talk 只能够在 Windows 平台上运行。如果要进行语音通话，用户需要配备麦克风与音箱。 Google Talk 的用户无法使用这种软件与 AIM，MSN Messenger 或者雅虎 Messenger 的用户进行互通。 在使用了 Google Talk 之后，Sullivan 对这种软件的声音质量给了高分，但是，Google Talk 缺乏视频聊天功能，另外， Google Talk 还缺乏目录索引以及聊天文本的搜索功能。 返回 ISC简介ISC 服务器控制。是 Intel 的服务器管理软件。只适用于使用 Intel 架构的带有集成管理功能主板的服务器。采用这种技术后，用户在一台普通的客户机上，就可以监测网络上所有使用 Intel 主板的服务器，监控和判断服务器的工作状态是否正常。一旦服务器内部硬件传感器进行实时监控或第三方硬件中的任何一项出现错误，就会报警提示管理人员。并且，监测端和服务器端之间的网络可以是局域网也可以是广域网，可直接通过网络对服务器进行启动、关闭或重新置位，极大地方便了管理和维护工作。 返回 negative_caching定义避免重复失败的 DNS 解析请求 原理当客户端尝试通过 DNS 解析某个域名但解析失败后，客户端依然会在自己的缓存中记录相关的信息，但这里记录的并非解析结果，而是”Negative caching”。这样当客户端尝试再次访问不存在的域名时，因为本地的 DNS 缓存中已经有了相关的 Negative caching 记录，因此客户端不会频繁尝试通过 DNS 进行解析. 比较恰当的翻译是消极缓存或者未果缓冲. 返回]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[DNSmasq-conf(英文原版)]]></title>
      <url>%2F2017%2F04%2F28%2FDNSmasq-conf(%E8%8B%B1%E6%96%87%E5%8E%9F%E7%89%88)%2F</url>
      <content type="text"><![CDATA[Configuration file for dnsmasq.# Format is one option per line, legal options are the sameas the long options legal on the command line. See“/usr/sbin/dnsmasq –help” or “man 8 dnsmasq” for details.The following two options make you a better netizen, since theytell dnsmasq to filter out queries which the public DNS cannotanswer, and which load the servers (especially the root servers)uneccessarily. If you have a dial-on-demand link they also stopthese requests from bringing up the link uneccessarily.Never forward plain names (without a dot or domain part)#domain-needed Never forward addresses in the non-routed address spaces.#bogus-priv Uncomment this to filter useless windows-originated DNS requestswhich can trigger dial-on-demand links needlessly.Note that (amongst other things) this blocks all SRV requests,so don’t use it if you use eg Kerberos, SIP, XMMP or Google-talk.This option only affects forwarding, SRV records originating fordnsmasq (via srv-host= lines) are not suppressed by it.#filterwin2k Change this line if you want dns to get its upstream servers fromsomewhere other that /etc/resolv.conf#resolv-file= By default, dnsmasq will send queries to any of the upstreamservers it knows about and tries to favour servers to are knownto be up. Uncommenting this forces dnsmasq to try each querywith each server strictly in the order they appear in/etc/resolv.conf#strict-order If you don’t want dnsmasq to read /etc/resolv.conf or any otherfile, getting its servers from this file instead (see below), thenuncomment this.#no-resolv If you don’t want dnsmasq to poll /etc/resolv.conf or other resolvfiles for changes and re-read them then uncomment this.#no-poll Add other name servers here, with domain specs if they are fornon-public domains.#server=/localnet/192.168.0.1 Example of routing PTR queries to nameservers: this will send alladdress-&gt;name queries for 192.168.3/24 to nameserver 10.1.2.3#server=/3.168.192.in-addr.arpa/10.1.2.3 Add local-only domains here, queries in these domains are answeredfrom /etc/hosts or DHCP only.#local=/localnet/ Add domains which you want to force to an IP address here.The example below send any host in doubleclick.net to a localwebserver.#address=/doubleclick.net/127.0.0.1 –address (and –server) work with IPv6 addresses too.#address=/www.thekelleys.org.uk/fe80::20d:60ff:fe36:f83 You can control how dnsmasq talks to a server: this forcesqueries to 10.1.2.3 to be routed via eth1–server=10.1.2.3@eth1and this sets the source (ie local) address used to talk to10.1.2.3 to 192.168.1.1 port 55 (there must be a interface with thatIP on the machine, obviously).–server=10.1.2.3@192.168.1.1#55If you want dnsmasq to change uid and gid to something otherthan the default, edit the following lines.#user= #group= If you want dnsmasq to listen for DHCP and DNS requests only onspecified interfaces (and the loopback) give the name of theinterface (eg eth0) here.Repeat the line for more than one interface.#interface= Or you can specify which interface not to listen on#except-interface= Or which to listen on by address (remember to include 127.0.0.1 ifyou use this.)#listen-address= If you want dnsmasq to provide only DNS service on an interface,configure it as shown above, and then use the following line todisable DHCP on it.#no-dhcp-interface= On systems which support it, dnsmasq binds the wildcard address,even when it is listening on only some interfaces. It then discardsrequests that it shouldn’t reply to. This has the advantage ofworking even when interfaces come and go and change address. If youwant dnsmasq to really bind only the interfaces it is listening on,uncomment this option. About the only time you may need this is whenrunning another nameserver on the same machine.#bind-interfaces If you don’t want dnsmasq to read /etc/hosts, uncomment thefollowing line.#no-hosts or if you want it to read another file, as well as /etc/hosts, usethis.#addn-hosts=/etc/banner_add_hosts Set this (and domain: see below) if you want to have a domainautomatically added to simple names in a hosts-file.#expand-hosts Set the domain for dnsmasq. this is optional, but if it is set, itdoes the following things.1) Allows DHCP hosts to have fully qualified domain names, as longas the domain part matches this setting.2) Sets the “domain” DHCP option thereby potentially setting thedomain of all systems configured by DHCP3) Provides the domain part for “expand-hosts”#domain=thekelleys.org.uk Set a different domain for a particular subnet#domain=wireless.thekelleys.org.uk,192.168.2.0/24 Same idea, but range rather then subnet#domain=reserved.thekelleys.org.uk,192.68.3.100,192.168.3.200 Uncomment this to enable the integrated DHCP server, you needto supply the range of addresses available for lease and optionallya lease time. If you have more than one network, you will need torepeat this for each network on which you want to supply DHCPservice.#dhcp-range=192.168.0.50,192.168.0.150,12h This is an example of a DHCP range where the netmask is given. Thisis needed for networks we reach the dnsmasq DHCP server via a relayagent. If you don’t know what a DHCP relay agent is, you probablydon’t need to worry about this.#dhcp-range=192.168.0.50,192.168.0.150,255.255.255.0,12h This is an example of a DHCP range with a network-id, so thatsome DHCP options may be set only for this network.#dhcp-range=red,192.168.0.50,192.168.0.150 Supply parameters for specified hosts using DHCP. There are lotsof valid alternatives, so we will give examples of each. Note thatIP addresses DO NOT have to be in the range given above, they justneed to be on the same network. The order of the parameters in thesedo not matter, it’s permissble to give name,adddress and MAC in any orderAlways allocate the host with ethernet address 11:22:33:44:55:66The IP address 192.168.0.60#dhcp-host=11:22:33:44:55:66,192.168.0.60 Always set the name of the host with hardware address11:22:33:44:55:66 to be “fred”#dhcp-host=11:22:33:44:55:66,fred Always give the host with ethernet address 11:22:33:44:55:66the name fred and IP address 192.168.0.60 and lease time 45 minutes#dhcp-host=11:22:33:44:55:66,fred,192.168.0.60,45m Give a host with ethernet address 11:22:33:44:55:66 or12:34:56:78:90:12 the IP address 192.168.0.60. Dnsmasq will assumethat these two ethernet interfaces will never be in use at the sametime, and give the IP address to the second, even if it is alreadyin use by the first. Useful for laptops with wired and wirelessaddresses.#dhcp-host=11:22:33:44:55:66,12:34:56:78:90:12,192.168.0.60 Give the machine which says its name is “bert” IP address192.168.0.70 and an infinite lease#dhcp-host=bert,192.168.0.70,infinite Always give the host with client identifier 01:02:02:04the IP address 192.168.0.60#dhcp-host=id:01:02:02:04,192.168.0.60 Always give the host with client identifier “marjorie”the IP address 192.168.0.60#dhcp-host=id:marjorie,192.168.0.60 Enable the address given for “judge” in /etc/hoststo be given to a machine presenting the name “judge” whenit asks for a DHCP lease.#dhcp-host=judge Never offer DHCP service to a machine whose ethernetaddress is 11:22:33:44:55:66#dhcp-host=11:22:33:44:55:66,ignore Ignore any client-id presented by the machine with ethernetaddress 11:22:33:44:55:66. This is useful to prevent a machinebeing treated differently when running under different OS’s orbetween PXE boot and OS boot.#dhcp-host=11:22:33:44:55:66,id:* Send extra options which are tagged as “red” tothe machine with ethernet address 11:22:33:44:55:66#dhcp-host=11:22:33:44:55:66,net:red Send extra options which are tagged as “red” toany machine with ethernet address starting 11:22:33:#dhcp-host=11:22:33:::*,net:red Ignore any clients which are specified in dhcp-host linesor /etc/ethers. Equivalent to ISC “deny unkown-clients”.This relies on the special “known” tag which is set whena host is matched.#dhcp-ignore=#known Send extra options which are tagged as “red” to any machine whoseDHCP vendorclass string includes the substring “Linux”#dhcp-vendorclass=red,Linux Send extra options which are tagged as “red” to any machine oneof whose DHCP userclass strings includes the substring “accounts”#dhcp-userclass=red,accounts Send extra options which are tagged as “red” to any machine whoseMAC address matches the pattern.#dhcp-mac=red,00:60:8C:::* If this line is uncommented, dnsmasq will read /etc/ethers and acton the ethernet-address/IP pairs found there just as if they hadbeen given as –dhcp-host options. Useful if you keepMAC-address/host mappings there for other purposes.#read-ethers Send options to hosts which ask for a DHCP lease.See RFC 2132 for details of available options.Common options can be given to dnsmasq by name:run “dnsmasq –help dhcp” to get a list.Note that all the common settings, such as netmask andbroadcast address, DNS server and default route, are givensane defaults by dnsmasq. You very likely will not needany dhcp-options. If you use Windows clients and Samba, thereare some options which are recommended, they are detailed at theend of this section.Override the default route supplied by dnsmasq, which assumes therouter is the same machine as the one running dnsmasq.#dhcp-option=3,1.2.3.4 Do the same thing, but using the option name#dhcp-option=option:router,1.2.3.4 Override the default route supplied by dnsmasq and send no defaultroute at all. Note that this only works for the options sent bydefault (1, 3, 6, 12, 28) the same line will send a zero-length optionfor all other option numbers.#dhcp-option=3 Set the NTP time server addresses to 192.168.0.4 and 10.10.0.5#dhcp-option=option:ntp-server,192.168.0.4,10.10.0.5 Set the NTP time server address to be the same machine asis running dnsmasq#dhcp-option=42,0.0.0.0 Set the NIS domain name to “welly”#dhcp-option=40,welly Set the default time-to-live to 50#dhcp-option=23,50 Set the “all subnets are local” flag#dhcp-option=27,1 Send the etherboot magic flag and then etherboot options (a string).#dhcp-option=128,e4:45:74:68:00:00 #dhcp-option=129,NIC=eepro100 Specify an option which will only be sent to the “red” network(see dhcp-range for the declaration of the “red” network)Note that the net: part must precede the option: part.#dhcp-option = net:red, option:ntp-server, 192.168.1.1 The following DHCP options set up dnsmasq in the same way as is specifiedfor the ISC dhcpcd inhttp://www.samba.org/samba/ftp/docs/textdocs/DHCP-Server-Configuration.txtadapted for a typical dnsmasq installation where the host runningdnsmasq is also the host running samba.you may want to uncomment some or all of them if you useWindows clients and Samba.#dhcp-option=19,0 # option ip-forwarding off #dhcp-option=44,0.0.0.0 # set netbios-over-TCP/IP nameserver(s) aka WINS server(s) #dhcp-option=45,0.0.0.0 # netbios datagram distribution server #dhcp-option=46,8 # netbios node type Send RFC-3397 DNS domain search DHCP option. WARNING: Your DHCP clientprobably doesn’t support this……#dhcp-option=option:domain-search,eng.apple.com,marketing.apple.com Send RFC-3442 classless static routes (note the netmask encoding)#dhcp-option=121,192.168.1.0/24,1.2.3.4,10.0.0.0/8,5.6.7.8 Send vendor-class specific options encapsulated in DHCP option 43.The meaning of the options is defined by the vendor-class sooptions are sent only when the client supplied vendor classmatches the class given here. (A substring match is OK, so “MSFT”matches “MSFT” and “MSFT 5.0”). This example sets themtftp address to 0.0.0.0 for PXEClients.#dhcp-option=vendor:PXEClient,1,0.0.0.0 Send microsoft-specific option to tell windows to release the DHCP leasewhen it shuts down. Note the “i” flag, to tell dnsmasq to send thevalue as a four-byte integer - that’s what microsoft wants. Seehttp://technet2.microsoft.com/WindowsServer/en/library/a70f1bb7-d2d4-49f0-96d6-4b7414ecfaae1033.mspx?mfr=true#dhcp-option=vendor:MSFT,2,1i Send the Encapsulated-vendor-class ID needed by some configurations ofEtherboot to allow is to recognise the DHCP server.#dhcp-option=vendor:Etherboot,60,”Etherboot” Send options to PXELinux. Note that we need to send the options eventhough they don’t appear in the parameter request list, so we needto use dhcp-option-force here.See http://syslinux.zytor.com/pxe.php#special for details.Magic number - needed before anything else is recognised#dhcp-option-force=208,f1:00:74:7e Configuration file name#dhcp-option-force=209,configs/common Path prefix#dhcp-option-force=210,/tftpboot/pxelinux/files/ Reboot time. (Note ‘i’ to send 32-bit value)#dhcp-option-force=211,30i Set the boot filename for netboot/PXE. You will only needthis is you want to boot machines over the network and you will needa TFTP server; either dnsmasq’s built in TFTP server or anexternal one. (See below for how to enable the TFTP server.)#dhcp-boot=pxelinux.0 Boot for Etherboot gPXE. The idea is to send two differentfilenames, the first loads gPXE, and the second tells gPXE what toload. The dhcp-match sets the gpxe tag for requests from gPXE.#dhcp-match=gpxe,175 # gPXE sends a 175 option. #dhcp-boot=net:#gpxe,undionly.kpxe #dhcp-boot=mybootimage Encapsulated options for Etherboot gPXE. All the options areencapsulated within option 175#dhcp-option=encap:175, 1, 5b # priority code #dhcp-option=encap:175, 176, 1b # no-proxydhcp #dhcp-option=encap:175, 177, string # bus-id #dhcp-option=encap:175, 189, 1b # BIOS drive code #dhcp-option=encap:175, 190, user # iSCSI username #dhcp-option=encap:175, 191, pass # iSCSI password Test for the architecture of a netboot client. PXE clients aresupposed to send their architecture as option 93. (See RFC 4578)#dhcp-match=peecees, option:client-arch, 0 #x86-32 #dhcp-match=itanics, option:client-arch, 2 #IA64 #dhcp-match=hammers, option:client-arch, 6 #x86-64 #dhcp-match=mactels, option:client-arch, 7 #EFI x86-64 Do real PXE, rather than just booting a single file, this is analternative to dhcp-boot.#pxe-prompt=”What system shall I netboot?” or with timeout before first available action is taken:#pxe-prompt=”Press F8 for menu.”, 60 Available boot services. for PXE.#pxe-service=x86PC, “Boot from local disk”, 0 Loads /pxelinux.0 from dnsmasq TFTP server.#pxe-service=x86PC, “Install Linux”, pxelinux Loads /pxelinux.0 from TFTP server at 1.2.3.4.Beware this fails on old PXE ROMS.#pxe-service=x86PC, “Install Linux”, pxelinux, 1.2.3.4 Use bootserver on network, found my multicast or broadcast.#pxe-service=x86PC, “Install windows from RIS server”, 1 Use bootserver at a known IP address.#pxe-service=x86PC, “Install windows from RIS server”, 1, 1.2.3.4 If you have multicast-FTP available,information for that can be passed in a similar way using options 1to 5. See page 19 ofhttp://download.intel.com/design/archives/wfm/downloads/pxespec.pdfEnable dnsmasq’s built-in TFTP server#enable-tftp Set the root directory for files availble via FTP.#tftp-root=/var/ftpd Make the TFTP server more secure: with this set, only files owned bythe user dnsmasq is running as will be send over the net.#tftp-secure Set the boot file name only when the “red” tag is set.#dhcp-boot=net:red,pxelinux.red-net An example of dhcp-boot with an external TFTP server: the name and IPaddress of the server are given after the filename.Can fail with old PXE ROMS. Overridden by –pxe-service.#dhcp-boot=/var/ftpd/pxelinux.0,boothost,192.168.0.3 Set the limit on DHCP leases, the default is 150#dhcp-lease-max=150 The DHCP server needs somewhere on disk to keep its lease database.This defaults to a sane location, but if you want to change it, usethe line below.#dhcp-leasefile=/var/lib/dnsmasq/dnsmasq.leases Set the DHCP server to authoritative mode. In this mode it will barge inand take over the lease for any client which broadcasts on the network,whether it has a record of the lease or not. This avoids long timeoutswhen a machine wakes up on a new network. DO NOT enable this if there’sthe slighest chance that you might end up accidentally configuring a DHCPserver for your campus/company accidentally. The ISC server usesthe same option, and this URL provides more information:http://www.isc.org/index.pl?/sw/dhcp/authoritative.php#dhcp-authoritative Run an executable when a DHCP lease is created or destroyed.The arguments sent to the script are “add” or “del”,then the MAC address, the IP address and finally the hostnameif there is one.#dhcp-script=/bin/echo Set the cachesize here.#cache-size=150 If you want to disable negative caching, uncomment this.#no-negcache Normally responses which come form /etc/hosts and the DHCP leasefile have Time-To-Live set as zero, which conventionally meansdo not cache further. If you are happy to trade lower load on theserver for potentially stale date, you can set a time-to-live (inseconds) here.#local-ttl= If you want dnsmasq to detect attempts by Verisign to send queriesto unregistered .com and .net hosts to its sitefinder service andhave dnsmasq instead return the correct NXDOMAIN response, uncommentthis line. You can add similar lines to do the same for otherregistries which have implemented wildcard A records.#bogus-nxdomain=64.94.110.11 If you want to fix up DNS results from upstream servers, use thealias option. This only works for IPv4.This alias makes a result of 1.2.3.4 appear as 5.6.7.8#alias=1.2.3.4,5.6.7.8 and this maps 1.2.3.x to 5.6.7.x#alias=1.2.3.0,5.6.7.0,255.255.255.0 and this maps 192.168.0.10-&gt;192.168.0.40 to 10.0.0.10-&gt;10.0.0.40#alias=192.168.0.10-192.168.0.40,10.0.0.0,255.255.255.0 Change these lines if you want dnsmasq to serve MX records.Return an MX record named “maildomain.com” with targetservermachine.com and preference 50#mx-host=maildomain.com,servermachine.com,50 Set the default target for MX records created using the localmx option.#mx-target=servermachine.com Return an MX record pointing to the mx-target for all localmachines.#localmx Return an MX record pointing to itself for all local machines.#selfmx Change the following lines if you want dnsmasq to serve SRVrecords. These are useful if you want to serve ldap requests forActive Directory and other windows-originated DNS requests.See RFC 2782.You may add multiple srv-host lines.The fields are ,,,,If the domain part if missing from the name (so that is just has theservice and protocol sections) then the domain given by the domain=config option is used. (Note that expand-hosts does not need to beset for this to work.)A SRV record sending LDAP for the example.com domain toldapserver.example.com port 289#srv-host=_ldap._tcp.example.com,ldapserver.example.com,389 A SRV record sending LDAP for the example.com domain toldapserver.example.com port 289 (using domain=)#domain=example.com #srv-host=_ldap._tcp,ldapserver.example.com,389 Two SRV records for LDAP, each with different priorities#srv-host=_ldap._tcp.example.com,ldapserver.example.com,389,1 #srv-host=_ldap._tcp.example.com,ldapserver.example.com,389,2 A SRV record indicating that there is no LDAP server for the domainexample.com#srv-host=_ldap._tcp.example.com The following line shows how to make dnsmasq serve an arbitrary PTRrecord. This is useful for DNS-SD. (Note that thedomain-name expansion done for SRV records _does_notoccur for PTR records.)#ptr-record=_http._tcp.dns-sd-services,”New Employee Page._http._tcp.dns-sd-services” Change the following lines to enable dnsmasq to serve TXT records.These are used for things like SPF and zeroconf. (Note that thedomain-name expansion done for SRV records _does_notoccur for TXT records.)#Example SPF. #txt-record=example.com,”v=spf1 a -all” #Example zeroconf #txt-record=_http._tcp.example.com,name=value,paper=A4 Provide an alias for a “local” DNS name. Note that this only worksfor targets which are names from DHCP or /etc/hosts. Give host“bert” another name, bertrand#cname=bertand,bert For debugging purposes, log each DNS query as it passes throughdnsmasq.#log-queries Log lots of extra information about DHCP transactions.#log-dhcp Include a another lot of configuration options.#conf-file=/etc/dnsmasq.more.conf #conf-dir=/etc/dnsmasq.d]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Shadowsocks服务器端的搭建(请善用返回功能)]]></title>
      <url>%2F2017%2F04%2F27%2FShadowsocks%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E7%9A%84%E6%90%AD%E5%BB%BA%2F</url>
      <content type="text"><![CDATA[一.概要一个帮你绕过防火墙的迅速的隧道代理.特性: TCP &amp; UDP support User management API TCP fast open Workers and graceful restart Destination IP blacklist 二.服务端I安装Debian / Ubuntu:12apt-get install python-pippip install shadowsocks CentOS:123yum install python-setuptools &amp;&amp; easy_install pippip install shadowsocksenter code here Windows:不推荐部署在Windows上，因为在Windows上的selectAPI非常有限。如果你想要为多个用户提供服务，请选择部署在LINUX上 1.下载并安装l Python for Windows, 在64位Windows操作系统中可以选择 x86-64 MSI 安装包 . 2.在这个过程中你需要安装 pip 安装 OpenSSL for Windows. 如果你安装了 64位 Python, 你应该选择64位 OpenSSL. 如在 Linux上安装,在命令提示符下,输入命令行 1pip install shadowsocks 5.如果你想用 salsa20 or chacha20 加密, 下载 libsodium 并将所有dll文件(不需要路径)放进 C:\Windows\System32 or C:\Windows\SysWOW64 (32bit Python on 64bit Windows). II使用1ssserver -p 443 -k password -m aes-256-cfb 后台运行:1sudo ssserver -p 443 -k password -m aes-256-cfb --user nobody -d start 停止:1sudo ssserver -d stop 检查日志:1sudo less /var/log/shadowsocks.log 用 -h 查看所有参数II以配置文件使用(建议)创造配置文件并运行 创造配置文件 /etc/shadowsocks.json 单用户模板 12345678910&#123; &quot;server&quot;:&quot;my_server_ip&quot;, &quot;server_port&quot;:8388, &quot;local_address&quot;: &quot;127.0.0.1&quot;, &quot;local_port&quot;:1080, &quot;password&quot;:&quot;mypassword&quot;, &quot;timeout&quot;:300, &quot;method&quot;:&quot;aes-256-cfb&quot;, &quot;fast_open&quot;: false&#125; 多个用户模板 12345678910111213&#123;&quot;server&quot;:&quot;my_server_ip&quot;,&quot;port_password&quot;:&#123; &quot;8381&quot;:&quot;password1&quot;, &quot;8382&quot;:&quot;password2&quot;, &quot;8383&quot;:&quot;password3&quot;, &quot;8384&quot;:&quot;password4&quot; &#125;,&quot;timeout&quot;:300&quot;method&quot;:&quot;aes-256-cfb&quot;,&quot;fast_open&quot;:false,&quot;workers&quot;:1&#125; 各个字段的解释: Name Explanation server 监听的主机地址 server_port 服务端口 local_address 监听的本地地址 local_port 本地端口 password 密码(提供给加密) timeout 超时 method 加密方式，预置: “aes-256-cfb”，见III加密格式 fast_open 使用TCP_FASTOPEN, true /false workers number of workers, available on Unix/Linux 前台运行1ssserver -c /etc/shadowsocks.json 后台运行12ssserver -c /etc/shadowsocks.json -d start //启动服务ssserver -c /etc/shadowsocks.json -d stop //关闭服务 开始服务:1ssserver -c /etc/shadowsocks.json //前台运行 III加密格式支持的密码类 Python libev Go Qt SSL library (AES, etc) Y Y Y Y RC4-MD5 Y Y Y Y Salsa20, Chacha20 Y Y Y Y M2Crypto使用M2Crypto会稍微加快加密过程Debian:1apt-get install python-m2crypto CentOS:1yum install m2crypto rc4-md5rc4-md5 是安全，快速的使用不同的值链接加密方式. 推荐在 OpenWRT路由器上使用. salsa20 and chacha20salsa20 and chacha20 同是快速的序列密码. 在x86_64系统上最优部署的salsa20 甚至能获得比r4快两倍的速度 (尽管ARM运行较慢).安装 libsodium &gt;= 1.0.0 如果你想要使用它们.123456sudo apt-get install build-essentialwget https://github.com/jedisct1/libsodium/releases/download/1.0.8/libsodium-1.0.8.tar.gztar xf libsodium-1.0.8.tar.gz &amp;&amp; cd libsodium-1.0.8./configure &amp;&amp; make -j2sudo make installsudo ldconfig 返回字段的解释处 弃用的密码这些旧的密码是慢的或者不安全的，不要使用它们: rc4 des-cfb table salsa20-ctr IV其他 fast_open如果你的伺服器和客户程序都部署在 Linux 3.7.1 或者更高版本,你可以打开 fast_open 以获得更低延迟. 首先你在的配置文件 config.json将设置fast_open为 true 然后在你的OS上暂时打开fast open：1echo 3 &gt; /proc/sys/net/ipv4/tcp_fastopen 要永久打开fast open, 见 Optimizing Shadowsocks.注意: 只有一些版本支持这个特性. 返回字段解释处 Here’s the page answering questions: does A support B?Servers Python libev Go Fast Open Y Y N Multiple Users Y Y Y Management API Y Y N Workers Y N N Graceful Restart Y N N ss-redir N Y N ss-tunnel N Y N UDP Relay Y Y N OTA Y Y Y Clients Windows ShadowsocksX Qt5 Android iOS App Store iOS Cydia System Proxy Y Y N Y N Y CHNRoutes Y Y N Y Y Y PAC Configuration Y Y N N N N Profile Switching Y Y Y Y N Y QR Code Scan Y Y Y Y Y Y QR Code Generation Y Y Y Y N Y 返回fast_open处 Optimizing Shadowsocks如果你在日志中看到大量error: too many open files, 你应该优化你的系统. 这个引导应用到所有shadowsocks 服务器 (Python, libev, etc). 在 Debian 7新建 /etc/sysctl.d/local.conf 并包含以下内容:123456789101112131415161718192021222324252627282930313233343536373839404142434445# max open filesfs.file-max = 51200# max read buffernet.core.rmem_max = 67108864# max write buffernet.core.wmem_max = 67108864# default read buffernet.core.rmem_default = 65536# default write buffernet.core.wmem_default = 65536# max processor input queuenet.core.netdev_max_backlog = 4096# max backlognet.core.somaxconn = 4096# resist SYN flood attacksnet.ipv4.tcp_syncookies = 1# reuse timewait sockets when safenet.ipv4.tcp_tw_reuse = 1# turn off fast timewait sockets recyclingnet.ipv4.tcp_tw_recycle = 0# short FIN timeoutnet.ipv4.tcp_fin_timeout = 30# short keepalive timenet.ipv4.tcp_keepalive_time = 1200# outbound port rangenet.ipv4.ip_local_port_range = 10000 65000# max SYN backlognet.ipv4.tcp_max_syn_backlog = 4096# max timewait sockets held by system simultaneouslynet.ipv4.tcp_max_tw_buckets = 5000# turn on TCP Fast Open on both client and server sidenet.ipv4.tcp_fastopen = 3# TCP receive buffernet.ipv4.tcp_rmem = 4096 87380 67108864# TCP write buffernet.ipv4.tcp_wmem = 4096 65536 67108864# turn on path MTU discoverynet.ipv4.tcp_mtu_probing = 1# for high-latency networknet.ipv4.tcp_congestion_control = hybla# for low-latency network, use cubic instead# net.ipv4.tcp_congestion_control = cubic 然后1sysctl --system 对于旧的操作系统：1sysctl -p /etc/sysctl.d/local.conf 注意: 不要启用 net.ipv4.tcp_tw_recycle!!! 见 这个文章.如果你使用Supervisor,确保你在/etc/default/supervisor有如下行 . 一旦你添加了这一行, 重启 Supervisor (service stop supervisor &amp;&amp; service start supervisor). 1ulimit -n 51200 如果你用其他方式在后台运行 shadowsocks , 确保你在init 脚本添加了 ulimit -n 51200 .优化后，一个执行千计连接的繁忙的Shadowsocks服务器 占用大概30MB 内存 和 10% CPU. 请注意在同样的情况下Linux kernel 经常使用 &gt;100MB RAM 去处理 buffer 和 cache. 在使用了上述的 sysct 设置, 你用RAM换取了速度. 如果你想要使用更少的RAM，减少 rmem 和 wmem 的大小. 返回 fast_open 处 Supervisor 运行 Shadowsocks说明： 从 Shadowsocks 2.6 开始，你可以直接在后台运行 Shadowsocks，无需 Supervisor 。 这样省掉了 Supervisor 进程占用的内存。 12ssserver -c /etc/shadowsocks.json -d startssserver -c /etc/shadowsocks.json -d stop 对于老版本： 编辑 /etc/shadowsocks.json 12345678&#123; "server":"0.0.0.0", "server_port":7325, "local_port":1080, "password":"my password", "timeout":600, "method":"aes-256-cfb"&#125; 记得改密码和服务端端口，不要用默认的。 执行 123apt-get updateapt-get install python-pip python-m2crypto supervisorpip install shadowsocks 编辑 /etc/supervisor/conf.d/shadowsocks.conf 1234[program:shadowsocks]command=ssserver -c /etc/shadowsocks.jsonautorestart=trueuser=nobody 如果端口 &lt; 1024，把上面的 user=nobody 改成 user=root。 在 /etc/default/supervisor 最后加一行： 1ulimit -n 51200 执行 12service supervisor startsupervisorctl reload 如果遇到问题，可以检查日志： 1supervisorctl tail -f shadowsocks stderr 如果修改了 shadowsocks 配置 /etc/shadowsocks.json， 可以重启 shadowsocks： 1supervisorctl restart shadowsocks 如果修改了 Supervisor 的配置文件 /etc/supervisor/*， 可以更新 supervisor 配置： 1supervisorctl update 返回Optimizing Shadowsocks处 V文档你可以在 Wiki.上找到所有原版文档 VI开源许可证Copyright 2015 clowwindyLicensed under the Apache License; you may not use this file except in compliance with the License. You may obtain a copy of the License atUnless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. VII后记在腾讯云上搭建的时候遇到了端口初始化失败的问题，后来发现&quot;server&quot;这一行填写的必须是内网 IP.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[利用git-backup插件备份hexo数据]]></title>
      <url>%2F2017%2F04%2F26%2F%E5%88%A9%E7%94%A8git-backup%E6%8F%92%E4%BB%B6%E5%A4%87%E4%BB%BDhexo%E6%95%B0%E6%8D%AE%2F</url>
      <content type="text"><![CDATA[前言hexo文件夹中重要的是source跟scaffolds，themes目录.gitignore，_config.yml文件，插件目录可以通过命令行重新下载 插件下载项目地址. 如果hexo版本 2.x.x, 执行:1$ npm install hexo-git-backup@0.0.91 --save 如果版本 3.x.x, 执行: 1$ npm install hexo-git-backup --save 升级插件如果你使用 –save安装了插件, 执行： 12$ npm remove hexo-git-backup$ npm install hexo-git-backup --save 设置你应该在 hexo/_config.yml.文件中为插件添加设置 1234567backup: type: git message: update xxx //可选，diy信息 theme: coney,landscape //可选，主题备份 repository: github: git@github.com:xxx/xxx.git,branchName //备份的目的路径，必填branch分支 gitcafe: git@github.com:xxx/xxx.git,branchName //可选，备份到gitcafe Now you can backup all the blog! 用法1hexo backup 或者 1hexo b 问题你可能会遇到系统权限问题。 Error: EISDIR, open it is caused by permission. just do ‘sudo hexo b’1sudo hexo b]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[《Deep-Learning》（深度学习）中文版开放下载]]></title>
      <url>%2F2017%2F04%2F24%2F%E3%80%8ADeep-Learning%E3%80%8B%EF%BC%88%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%EF%BC%89%E4%B8%AD%E6%96%87%E7%89%88%E5%BC%80%E6%94%BE%E4%B8%8B%E8%BD%BD%2F</url>
      <content type="text"><![CDATA[《Deep Learning》（深度学习）中文版开放下载 《Deep Learning》（深度学习）是一本皆在帮助学生和从业人员进入机器学习领域的教科书，以开源的形式免费在网络上提供，这本书是由学界领军人物&nbsp;Ian Goodfellow、Yoshua Bengio&nbsp;和&nbsp;Aaron Courville&nbsp;合力打造。@Appinn 来自机器之心的消息。 这本书的主题具体来说，是机器学习的一种，一种能够使计算机系统从经验和数据中得到提高的技术。深度学习是一种特定类型的机器学习，具有强大的能力和灵活性，它将大千世界表示为嵌套的层次概念体系（由较简单概念间的联系定义复杂概念、从一般抽象概括到高级抽象表示）。对于本书的结构，第一部分介绍基本的数学工具和机器学习的概念，第二部分介绍最成熟的深度学习算法，而第三部分讨论某些具有展望性的想法，它们被广泛地认为是深度学习未来的研究重点。 因此，本书从基础数学知识到各类深度方法全面而又深入地描述了深度学习的各个主题。译者们也相信开源此书 PDF 版的中文译文可以促进大家对深度学习的基础和前沿知识有进一步的理解，也相信通过开放高质量的专业书籍能做到先阅读后付费。 Deep Learning 中文版在&nbsp;Github 开源，你可以直接前往阅读、下载，译者建议「读者可以以中文版为主、英文版为辅来阅读学习」。 更多细节请前往 Github，另外译者们依旧需要反馈意见，你可以在 Github 提交 issue，PDF 下载地址在这里（百度盘地址），在线阅读在这里。 注意由于版权问题，在线版本不提供图片。 &nbsp; &nbsp; &nbsp; &nbsp;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[C 语言中 %d,%o,%f,%e,%x 的意义]]></title>
      <url>%2F2017%2F04%2F23%2FC-%E8%AF%AD%E8%A8%80%E4%B8%AD-d-o-f-e-x-%E7%9A%84%E6%84%8F%E4%B9%89%2F</url>
      <content type="text"><![CDATA[C-语言中-d-o-f-e-x-的意义 格式说明由 &ldquo;％&rdquo; 和格式字符组成，如％d％f 等。它的作用是将输出的数据转换为指定的格式输出。格式说明总是由 &ldquo;％&rdquo; 字符开始的。不同类型的数据用不同的格式字符。&nbsp;格式字符有 d,o,x,u,c,s,f,e,g 等。&nbsp;如 ％d 整型输出，％ld 长整型输出，％o 以八进制数形式输出整数，％x 以十六进制数形式输出整数，％u 以十进制数输出 unsigned 型数据 (无符号数)。％c 用来输出一个字符，％s 用来输出一个字符串，％f 用来输出实数，以小数形式输出，％e 以指数形式输出实数，％g 根据大小自动选 f 格式或 e 格式，且不输出无意义的零。scanf(控制字符，地址列表)格式字符的含义同 printf 函数，地址列表是由若干个地址组成的表列，可以是变量的地址，或字符串的首地址。如 scanf(&quot;％d％c％s&quot;,&amp;a,&amp;b,str)；]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[按位取反运算符 (~) 到底应该怎样计算？]]></title>
      <url>%2F2017%2F04%2F22%2F%E6%8C%89%E4%BD%8D%E5%8F%96%E5%8F%8D%E8%BF%90%E7%AE%97%E7%AC%A6-%E5%88%B0%E5%BA%95%E5%BA%94%E8%AF%A5%E6%80%8E%E6%A0%B7%E8%AE%A1%E7%AE%97%EF%BC%9F%2F</url>
      <content type="text"><![CDATA[二进制数在内存中以补码的形式存储。 按位取反：二进制每一位取反，0 变 1，1 变 0。123456789~9 的计算步骤：转二进制：0 1001计算补码：0 1001按位取反：1 0110_____转为原码：按位取反：1 1001 末位加一：1 1010符号位为 1 是负数，即 - 10 1234567~-9 的计算步骤：转二进制：1 1001计算补码：1 0111按位取反：0 1000_____转为原码：正数的补码和原码相同，仍为：0 1000，即 8 原码表示法在数值前面增加了一位符号位（即最高位为符号位）：正数该位为 0，负数该位为 1（0 有两种表示：+0 和 - 0），其余位表示数值的大小。例如，用 8 位二进制表示一个数，+11 的原码为 00001011，-11 的原码就是 10001011。反码表示法规定：正数的反码与其原码相同；负数的反码是对其原码逐位取反，但符号位除外。补码表示法规定：正数的补码与其原码相同；负数的补码是在其反码的末位加 1。 （1） 原码：在数值前直接加一符号位的表示法。[+7] 原 = 0 0000111 B[-7] 原 = 1 0000111 B注意：a. 数 0 的原码有两种形式：[+0] 原 = 0 0000000 B[-0] 原 = 1 0000000 Bb. 8 位二进制原码的表示范围：-127～+127 （2）反码：正数：正数的反码与原码相同。负数：负数的反码，符号位为 “1”，数值部分按位取反。[+7] 反 = 0 0000111 B[-7] 反 = 1 1111000 B注意：a. 数 0 的反码也有两种形式，即[+0] 反 = 0 0000000 B[-0] 反 = 1 1111111 Bb. 8 位二进制反码的表示范围：-127～+127 （3）补码正数：正数的补码和原码相同。负数：负数的补码则是符号位为 “1”。并且，这个“1” 既是符号位，也是数值位。数值部分按位取反后再在末位（最低位）加 1。也就是“反码 + 1”。求负整数的补码，原码符号位不变，先将原码减去 1，最后数值各位取反。（但由于 2 进制的特殊性，通常先使数值位各位取反，最后整个数加 1。） 例如： 符号位 数值位[+7] 补 = 0 0000111 B[-7] 补 = 1 1111001 B注意：a. 采用补码后，可以方便地将减法运算转化成加法运算，运算过程得到简化。正数的补码即是它所表示的数的真值，而负数的补码的数值部份却不是它所表示的数的真值。采用补码进行运算，所得结果仍为补码。b. 与原码、反码不同，数值 0 的补码只有一个，即 [0] 补 = 00000000B。c. 若字长为 8 位，则补码所表示的范围为 - 128～+127；进行补码运算时，应注意所得结果不应超过补码所能表示数的范围。 转化为原码 已知一个数的补码，求原码的操作其实就是对该补码再求补码：⑴如果补码的符号位为 “0”，表示是一个正数，其原码就是补码。⑵如果补码的符号位为 “1”，表示是一个负数，那么求给定的这个补码的补码就是要求的原码。]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[为hexo博文插入图片]]></title>
      <url>%2F2017%2F04%2F21%2F%E4%B8%BAhexo%E5%8D%9A%E6%96%87%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%2F</url>
      <content type="text"><![CDATA[前言hexo博文上插入图片一直的惯用方法是使用七牛云或者贴图库又或者新浪，但考虑到七牛存储的不直观，贴图库的不稳定跟新浪不知道什么时候会关闭的接口，不如将图片存放在github上边，下边是一个可行的方法 开始 把主页配置文件_config.yml 里边的post_asset_folder:设置为 true 在 hexo 目录下执行npm install hexo-asset-image --save,这里下载安装一个可以上传本地图片的插件，来自hexo-asset-image 完成后当运行hexo n &quot;XX.md&quot;生成博文模板时，会在/source/_posts文件夹中额外生成名字为XX的文件夹 正式使用在XX博文中引入图片时，按照 markdown 的格式引入图片，并将图片放入XX文件夹内，格式为1![你想输入的替代文字](xx/图片名.jpg)]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[hexo及其环境的搭建及进阶(Windows+HTTP版)]]></title>
      <url>%2F2017%2F04%2F20%2Fhexo%E5%8F%8A%E5%85%B6%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA%E5%8F%8A%E8%BF%9B%E9%98%B6(Windows%2BHTTP%E7%89%88)%2F</url>
      <content type="text"><![CDATA[工具 / 原料 Windows（Mac 也是差不多，可参照） Git Node.js Git安装下载并安装Git，度娘备份，msysgit 是 Windows 版的 Git，按照默认安装。 安装完成后，在开始菜单里找到 “Git”-&gt;“Git Bash”，如图表示安装成功 Node.js安装下载并安装Node.js,安装完成后在CMD输入 node -v显示版本表示安装node.js成功,输入npm -v 显示版本表示自带的npm环境安装成功 npm 的作用就是对 Node.js 依赖的包进行管理，也可以理解为用来安装 / 卸载 Node.js 需要装的东西 注：当不显示版本时请添加对应的环境变量并重启系统 安装 Hexo 利用 npm 命令即可安装。在任意位置点击鼠标右键，选择 Git Bash。输入命令npm install -g hexo注意：-g是指全局安装hexo。部署hexo创建Hexo文件夹1、新建文件夹 Hexo2、 123cd Hexohexo init //Hexo 即会自动在目标文件夹建立网站所需要的所有文件。npm install //安装依赖包 本地查看执行以下命令(在Hexo文件夹下)，然后到浏览器输入localhost:4000看看。 12hexo generatehexo server 注册Github账号创建Repository仓库新建用户名.github.io的仓库 修改配置文件1.到刚创建的Repository下，获得SSH地址 2.编辑Hexo根目录下的_config.yml 3.修改文件里面的deploy。其中的repository 添加为SSH，如 1234deploy: type: git repo: https://github.com/jasmine-na/jasmine-na.github.io.git branch: master 完成部署 下载hexo-deployer-git 1npm install hexo-deployer-git –save 最后一步，Git Bash下，依次键入以下指令 12345 hexo clean //清除缓存文件 db.json 和已生成的静态文件 publichexo generate //生成网站静态文件到默认设置的 public 文件夹hexo deploy //自动生成网站静态文件，并部署到设定的仓库。 hexo deploy过程中会提示输入账号名和密码，Username是Github账号名称，而不是邮箱；Password就是Github的密码访问用户名.github.io进入主页 进阶Tipshexo现在支持更加简单的命令格式 12345678910hexo g == hexo generatehexo d == hexo deployhexo s == hexo serverhexo n == hexo newhexo g -d == hexo generate&amp;&amp;hexo deployhexo generate --watch //监视文件变动并立即重新生成静态文件 更新内容需要执行: 12hexo cleanhexo g -d 如果您想要更改端口，或是在执行时遇到了 EADDRINUSE 错误，可以在执行时使用 -p选项指定其他端口，如下：1hexo server -p 5000 静态模式在静态模式下，服务器只处理 public 文件夹内的文件，而不会处理文件变动，在执行时，您应该先自行执行 hexo generate，此模式通常用于生产环境（production mode）下。1hexo server -s 自定义 IP服务器默认运行在 0.0.0.0，您可以覆盖默认的 IP 设置，如下：1hexo server -i 192.168.1.1 定这个参数后，您就只能通过该 IP 才能访问站点。例如，对于一台使用无线网络的笔记本电脑，除了指向本机的127.0.0.1外，通常还有一个192.168.*.*的局域网 IP，如果像上面那样使用-i参数，就不能用127.0.0.1来访问站点了。对于有公网 IP 的主机，如果您指定一个局域网 IP 作为-i参数的值，那么就无法通过公网来访问站点。 相对路径引用的标签插件通过常规的 markdown 语法和相对路径来引用图片和其它资源可能会导致它们在存档页或者主页上显示不正确。在 Hexo 2 时代，社区创建了很多插件来解决这个问题。但是，随着 Hexo 3 的发布，许多新的标签插件被加入到了核心代码中。这使得你可以更简单地在文章中引用你的资源。123&#123;% asset_path slug %&#125;&#123;% asset_img slug [title] %&#125;&#123;% asset_link slug [title] %&#125; 比如说：当你打开文章资源文件夹功能后，你把一个 example.jpg 图片放在了你的资源文件夹中，如果通过使用相对路径的常规 markdown 语法![](/example.jpg)，它将 不会 出现在首页上。（但是它会在文章中按你期待的方式工作）正确的引用图片方式是使用下列的标签插件而不是 markdown ：1&#123;% asset_img example.jpg This is an example image %&#125; 通过这种方式，图片将会同时出现在文章和主页以及归档页中。]]></content>
    </entry>

    
  
  
</search>
